<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
<title>PodÃ³metro</title>
<link rel="stylesheet" href="style.css">

<!-- PWA Meta Tags -->
<meta name="theme-color" content="#0d0d0d">
<meta name="mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="apple-mobile-web-app-title" content="PodÃ³metro">
<meta name="description" content="Cuenta tus pasos y kilÃ³metros recorridos">

<!-- Apple Touch Icons -->
<link rel="apple-touch-icon" href="icons/icon-152x152.png">
<link rel="apple-touch-icon" sizes="192x192" href="icons/icon-192x192.png">

<!-- Manifest -->
<link rel="manifest" href="manifest.json">

<!-- Splash screen color -->
<meta name="msapplication-TileColor" content="#0d0d0d">
<meta name="msapplication-TileImage" content="icons/icon-144x144.png">

<link href="https://fonts.googleapis.com/css2?family=Syne:wght@400;700;800&family=DM+Sans:wght@300;400;500&display=swap" rel="stylesheet">
</head>
<body>
<div class="wrapper">

  <!-- PASO 1: Sexo -->
  <div class="step active" id="step-sex">
    <div class="logo">ğŸ¦¶ <span>Podo</span>mÃ©tro</div>
    <div class="progress-dots">
      <div class="dot active"></div>
      <div class="dot"></div>
      <div class="dot"></div>
    </div>
    <p class="step-label">Paso 1 de 2</p>
    <h2>Â¿CuÃ¡l es tu<br>sexo biolÃ³gico?</h2>
    <p class="subtitle">La longitud de la zancada varÃ­a segÃºn el sexo. Esto mejora la precisiÃ³n del conteo.</p>

    <div class="sex-grid">
      <button class="sex-btn" id="btn-male" onclick="selectSex('male')">
        <span class="icon">â™‚ï¸</span>
        <span class="label">Masculino</span>
        <span class="stride">Zancada: ~78 cm</span>
      </button>
      <button class="sex-btn" id="btn-female" onclick="selectSex('female')">
        <span class="icon">â™€ï¸</span>
        <span class="label">Femenino</span>
        <span class="stride">Zancada: ~70 cm</span>
      </button>
    </div>

    <p class="error-msg" id="error-sex">Por favor selecciona una opciÃ³n para continuar.</p>
    <button class="btn-primary" onclick="goToHeight()">Continuar â†’</button>
  </div>

  <!-- PASO 2: Altura -->
  <div class="step" id="step-height">
    <div class="logo">ğŸ¦¶ <span>Podo</span>mÃ©tro</div>
    <div class="progress-dots">
      <div class="dot done"></div>
      <div class="dot active"></div>
      <div class="dot"></div>
    </div>
    <p class="step-label">Paso 2 de 2 â€” Opcional</p>
    <h2>Â¿CuÃ¡nto<br>mides?</h2>
    <p class="subtitle">Con tu altura calculamos tu zancada exacta. Si no, usamos el promedio de tu sexo.</p>

    <div class="height-section">
      <div class="height-toggle" onclick="toggleHeight()">
        <div class="height-toggle-text">
          <div class="title">Ingresar mi altura</div>
          <div class="desc">MÃ¡s precisiÃ³n en el cÃ¡lculo</div>
        </div>
        <div class="toggle-switch" id="toggle-sw"></div>
      </div>
      <div class="height-input-wrap" id="height-input-wrap">
        <div class="height-row">
          <input type="number" class="height-field" id="height-field"
            placeholder="170" min="100" max="220"
            oninput="onHeightInput(this.value)" inputmode="numeric">
          <span class="height-unit">cm</span>
        </div>
        <div class="height-slider-wrap">
          <input type="range" id="height-slider" min="100" max="220" value="170"
            oninput="syncSlider(this.value)">
          <div class="height-range-labels"><span>100 cm</span><span>220 cm</span></div>
        </div>
        <p class="error-msg" id="error-height">Ingresa una altura vÃ¡lida (100â€“220 cm).</p>
      </div>
      <div class="stride-preview" id="stride-preview">
        <span class="icon">ğŸ‘Ÿ</span>
        <span class="text">Tu zancada estimada</span>
        <span class="value" id="stride-value">â€” <span>cm</span></span>
      </div>
    </div>

    <button class="btn-primary" onclick="goToConfirm()">Ver resumen â†’</button>
    <button class="btn-link" onclick="showStep('step-sex')">â† Volver</button>
  </div>

  <!-- PASO 3: ConfirmaciÃ³n -->
  <div class="step" id="step-confirm">
    <div class="logo">ğŸ¦¶ <span>Podo</span>mÃ©tro</div>
    <div class="progress-dots">
      <div class="dot done"></div>
      <div class="dot done"></div>
      <div class="dot active"></div>
    </div>
    <div class="success-icon">âœ“</div>
    <p class="step-label">Todo listo</p>
    <h2>Tu perfil<br>estÃ¡ configurado</h2>
    <p class="subtitle" style="margin-bottom: 28px;">Esto es lo que guardamos para calcular tus datos:</p>

    <div class="confirm-card">
      <div class="confirm-row">
        <span class="confirm-label">Sexo biolÃ³gico</span>
        <span class="confirm-value" id="summary-sex">â€”</span>
      </div>
      <div class="confirm-row">
        <span class="confirm-label">Altura</span>
        <span class="confirm-value" id="summary-height">â€”</span>
      </div>
      <div class="confirm-row">
        <span class="confirm-label">Zancada por paso</span>
        <span class="confirm-value highlight" id="summary-stride">â€”</span>
      </div>
      <div class="confirm-row">
        <span class="confirm-label">MÃ©todo</span>
        <span class="confirm-value" id="summary-method">â€”</span>
      </div>
    </div>

    <button class="btn-primary" onclick="saveAndStart()">Empezar a caminar ğŸš¶</button>
    <button class="btn-link" onclick="showStep('step-height')">â† Editar</button>
  </div>

</div>

<!-- Banner de instalaciÃ³n PWA (Android Chrome) -->
<div id="install-banner">
  <div class="text">
    <strong>Instalar en tu celular</strong>
    <small>Funciona sin conexiÃ³n</small>
  </div>
  <button class="btn-install" onclick="installApp()">Instalar</button>
  <button class="btn-close" onclick="closeBanner()">âœ•</button>
</div>
<script src="script.js"></script>
</body>
</html>
